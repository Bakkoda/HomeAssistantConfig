######################################################################
#       Switches
######################################################################
  # Notify when a light/switch has been used
  - alias: Switch notification
    trigger:
        platform: state
        entity_id: switch.desklamp, light.garage_lights, switch.bedroom_light_switch, switch.coffee_cord, switch.friday_coffee, switch.pihole, switch.kidsroom_switch, switch.greyskull, switch.front_porch_switch, switch.xmas_lights, switch.outside_garage_switch
        to: ~
    action:
        service: notify.homeassistant
        data_template:
            message: "***HA*** - {{ trigger.to_state.attributes.friendly_name }} has been turned {{ trigger.to_state.state }} - {{now().strftime('%B %d, %Y at %I:%M%p')}}"
            target: 450273546716053505

######################################################################
#       Utility
######################################################################
  # Turn bathroom fan off after 45 mins no matter when its turned on
  - alias: Turn the bathroom fan off after 45 mins
    trigger:
        platform: state
        entity_id: switch.bathroom_fan
        to: 'on'
        for:
            minutes: 45
    action:
        service: switch.turn_off
        entity_id: switch.bathroom_fan
