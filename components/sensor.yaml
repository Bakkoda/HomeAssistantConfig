#Random
  - platform: mfi
    host: 192.168.5.11
    port: 6443
    verify_ssl: false
    username: Bakkoda
    password: !secret mfi_password

  - platform: qbittorrent
    url: "http://192.168.1.10:8112"
    username: !secret qbit_user
    password: !secret qbit_pass

  - platform: apcupsd
    resources:
      - apc
      - date
      - hostname
      - version
      - upsname
      - cable
      - driver
      - upsmode
      - starttime
      - model
      - status
      - linev
      - loadpct
      - bcharge
      - itemp
      - timeleft
      - mbattchg
      - mintimel
      - maxtime
      - outputv

  - platform: openhardwaremonitor
    host: 192.168.1.10

  - platform: openhardwaremonitor
    host: 192.168.1.9

  - platform: darksky
    api_key: !secret darksky_apikey
    forecast:
      - 0
    monitored_conditions:
      - apparent_temperature
      - precip_probability

#SLR Tracking
  - platform: rest
    name: melissas_miles_json
    resource: !secret melissas_json_url
    scan_interval:
        minutes: 10
    json_attributes:
      - range
      - majorDimension
      - values

  - platform: rest
    name: wills_miles_json
    resource: !secret wills_json_url
    scan_interval:
        minutes: 10
    json_attributes:
      - range
      - majorDimension
      - values

#Templates
  - platform: template
    sensors:
        livingroom_thermo_setpoint:
            friendly_name: "Living Room Thermostat"
            unit_of_measurement: 'Â°F'
            value_template: "{{ states.climate.living_room_thermostat.attributes.temperature }}"

        open_door_count:
            friendly_name: "Open Doors"
            value_template: "{{ states.sensor | selectattr('state','eq','0.0') | selectattr('attributes.unit_of_measurement', 'eq', 'magnetic') | list | count }}"

        melissas_miles:
            friendly_name: "Melissa's Miles"
            value_template: >
                {{ states.sensor.melissas_miles_json.attributes["values"][0][0] }} / {{ states.sensor.melissas_miles_json.attributes["values"][0][1] }}
            unit_of_measurement: 'miles'

        wills_miles:
            friendly_name: "Will's Miles"
            value_template: >
                {{ states.sensor.wills_miles_json.attributes["values"][0][0] }} / {{ states.sensor.wills_miles_json.attributes["values"][0][1] }}
            unit_of_measurement: 'miles'

        tautulli_count_total:
            friendly_name: 'Total streams'
            value_template: '{{ states.sensor.tautulli.attributes["stream_count_transcode"] }}'

        tautulli_count_transcode:
            friendly_name: 'Transcoded streams'
            value_template: '{{ states.sensor.tautulli.attributes["stream_count_transcode"] }}'

        tautulli_direct_plays:
            friendly_name: 'Direct Plays'
            value_template: '{{ states.sensor.tautulli.attributes["stream_count_direct_play"] }}'

        tautulli_direct_streams:
            friendly_name: 'Direct Streams'
            value_template: '{{ states.sensor.tautulli.attributes["stream_count_direct_stream"] }}'

        tautulli_wan_bandwidth:
            friendly_name: 'WAN bandwidth'
            value_template: '{{ states.sensor.tautulli.attributes["wan_bandwidth"] | multiply(0.001) | round(2) }}'
            unit_of_measurement: "Mbps"

        tautulli_lan_bandwidth:
            friendly_name: 'LAN bandwidth'
            value_template: '{{ states.sensor.tautulli.attributes["lan_bandwidth"] | multiply(0.001) | round(2) }}'
            unit_of_measurement: "Mbps"

        tautulli_total_bandwidth:
            friendly_name: 'Total bandwidth'
            value_template: '{{ states.sensor.tautulli.attributes["total_bandwidth"] | multiply(0.001) | round(2) }}'
            unit_of_measurement: "Mbps"
